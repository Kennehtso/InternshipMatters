{% extends 'general/main.html'%}
{% block content %}
    <table class="table results">
        <thead>
        <tr>
            <th>機構名稱</th>
            <th>機構類型</th>
            <th>地區</th>
            <th>綜合評分</th>
        </tr>
        </thead>
        <tbody>
        {% for item in organizations %}
            <tr class="resultsRow" id="{{ item.id}}">
                <td>{{ item.name }}</td>
                <td>{{ item.area }}</td>
                <td>{{ item.organizationType }}</td>
                <td>{{ item.score }}</td>
            </tr>
        {% endfor%}
        </tbody>
    </table>
    <script>
        let resultsRow = document.getElementsByClassName('resultsRow');
        
        for (let i = 0; i < resultsRow.length; i++) {
            resultsRow[i].addEventListener("click", () => {
                window.location.href = '/detail/' + resultsRow[i].id;
            });
        }
    </script>
{% endblock %}